{% if (data | length) == 0  %}
Sorry! {{currentItem.Name}} has no contacts at this time!
{% else %}
{{table.makeSortable}}{{table.addClass('OmnisysSortGrid')}}{% set x = table.startHeader %}{% set sPopup = userModule.owner.usePopups ? 'showOmnisys_Popup();' : '' %}{% set sDelete = userModule.allow('Delete') ? '<span class="OmnisysSortGridDelete" onClick="' ~ sPopup ~ "document.getElementById('Omnisys_SortGrid_Edit').name='Delete';document.getElementById('EditColumn').submit(); \">Delete</span>" : '' %}{% set x = table.addCell(sDelete, false) %}
{% for column in dataColumns %}{{ userModule.processSearchGridHeader(table, column) }}{% endfor %}
{{ table.EndRow }}
{% set bEven = true %}
{% for item in data %}
  {% set oRow = table.startRow %}
  {% set x = table.addCell(userModule.processSearchGridRowControl(idColumn, item.ID)) %}
  {% for column in dataColumns %}
    {% set x = table.addCell(userModule.getColumnValue(item, column)) %}
  {% endfor %}
  {{ table.endRow }}
{% endfor %}
{% if userModule.allow('Edit') %}{% set sTarget = userModule.owner.usePopups ? ' target="Omnisys_Popup"' : '' %}{% set sType = userModule.owner.usePopups ? 'Popup' : 'Process' %}
<form name="EditColumn" id="EditColumn"{{sTarget}} action="?Admin={{sType}}&Module={{userModule.name}}&{{sType}}=EditColumn" method="post">
<input type="hidden" name="Column" id="Omnisys_SortGrid_Edit" value="">
{% endif %}
{{ table.toString }}{% if userModule.allow('Edit') %}</form>{% endif %}
{% endif %}
<br />
<a href="?Admin=Display&Module=Customer&Display=AddContact&CustomerID={{currentItem.ID}}">Add Contact</a>